## 多线程相关
- 如果需要用到多个锁，保证按照同一顺序添加以免死锁；如果需要锁住相同类型的多个对象，为了保证始终按照同一顺序加锁，可以比较mutex地址
- 作为成员的mutex不能保护析构函数，构造函数中不应该传出this指针
- 线程安全的observer模式：使用智能指针`shared_ptr`和`weak_ptr`而不是加锁；`weak_ptr`的提升操作是线程安全的；但`shared_ptr`只是保证了引用计数的线程安全而不会保证智能指针本身读写的安全，只能由多个线程读，但不能多个线程同时读写

## 设计模式
- 组合、关联和聚合: 组合表示部分与整体，部分的生命周期归整体管理；关联表示一种使用，形式上看A持有B的指针或者引用；聚合也是部分与整体，不过部分的生命周期不由整体控制